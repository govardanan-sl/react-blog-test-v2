(this["webpackJsonpsocial-media"]=this["webpackJsonpsocial-media"]||[]).push([[0],{20:function(e,t,s){},27:function(e,t,s){},28:function(e,t,s){},35:function(e,t,s){"use strict";s.r(t);var c=s(1),r=s.n(c),n=s(21),o=s.n(n),a=(s(27),s(28),s(3)),i=s(0),l=function(){return Object(i.jsxs)("nav",{className:"navbar",children:[Object(i.jsx)(a.b,{to:"/react-blog-test-v2",children:Object(i.jsx)("h1",{children:"The Social Media App"})}),Object(i.jsxs)("div",{className:"links",children:[Object(i.jsx)(a.b,{to:"/react-blog-test-v2",children:"Home"}),Object(i.jsx)(a.b,{to:"/profile",children:"Profile"}),Object(i.jsx)(a.b,{to:"/",children:"About"}),Object(i.jsx)(a.b,{to:"/create",style:{color:"white",backgroundColor:"#f1356d",borderRadius:"8px"},children:"New Post"})]})]})},j=function(e){var t=e.posts,s=e.title;return Object(i.jsxs)("div",{className:"post-list",children:[Object(i.jsx)("h2",{children:s}),t.map((function(e){return Object(i.jsx)("div",{className:"post-preview",children:Object(i.jsxs)(a.b,{to:"/posts/".concat(e.id),children:[Object(i.jsx)("h2",{children:e.title}),Object(i.jsx)("p",{children:e.body}),Object(i.jsxs)("p",{children:["by ",Object(i.jsx)(a.b,{to:"/profile/".concat(e.author_id),className:"link-highlight",children:e.author})]})]})},e.id)}))]})},d=s(5),h=function(e,t){var s=Object(c.useState)(null),r=Object(d.a)(s,2),n=r[0],o=r[1],a=Object(c.useState)(!0),i=Object(d.a)(a,2),l=i[0],j=i[1],h=Object(c.useState)(null),b=Object(d.a)(h,2),u=b[0],O=b[1];return Object(c.useEffect)((function(){var t=new AbortController;return fetch(e,{signal:t.signal},{method:"GET",redirect:"follow"}).then((function(e){if(!e.ok)throw Error("Could not Fetch data");return e.json()})).then((function(e){o(e),j(!1),O(null)})).catch((function(e){"AbortError"===e.name?console.log("Fetch Aborted"):(console.log(e.message),O(e.message))})),function(){return t.abort()}}),[e,t]),{data:n,isLoading:l,isError:u}},b=function(){var e=h("https://backend-react-json-server.herokuapp.com/posts"),t=e.data,s=e.isLoading,c=e.isError;return Object(i.jsxs)("div",{className:"Home",children:[!c&&s&&Object(i.jsx)("div",{children:"Loading...."}),c&&Object(i.jsx)("div",{children:Object(i.jsx)("h2",{style:{color:"#ff003cf0"},children:c})}),t&&Object(i.jsx)(j,{posts:t,title:"All Posts"}),t&&Object(i.jsx)(j,{posts:t.filter((function(e){return"bruce"===e.author})),title:"My Posts"})]})},u=s(2),O=function(){var e=Object(c.useState)(""),t=Object(d.a)(e,2),s=t[0],r=t[1],n=Object(c.useState)(""),o=Object(d.a)(n,2),a=o[0],l=o[1],j=Object(c.useState)(""),h=Object(d.a)(j,2),b=h[0],O=h[1],p=Object(c.useState)("1"),x=Object(d.a)(p,2),f=x[0],m=x[1],v=Object(c.useState)(!1),g=Object(d.a)(v,2),y=g[0],k=g[1],N=Object(u.f)(),w=Object(c.useRef)();Object(c.useEffect)((function(){w.current.focus()}),[]);return Object(i.jsxs)("div",{className:"create",children:[Object(i.jsx)("h2",{children:"New Post"}),Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={title:s,body:a,author:b,author_id:f};k(!0);var c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};fetch("https://backend-react-json-server.herokuapp.com/posts",c).then((function(e){if(201!==e.status)throw Error(e.statusText);console.log("Posted"),k(!1),N.push("/react-blog-test-v2")})).catch((function(e){console.log(e.message),k(!1)}))},children:[Object(i.jsx)("label",{children:"Post Title : "}),Object(i.jsx)("input",{type:"text",required:!0,value:s,onChange:function(e){return r(e.target.value)},ref:w}),Object(i.jsx)("label",{children:"Post Body : "}),Object(i.jsx)("textarea",{value:a,onChange:function(e){return l(e.target.value)},required:!0}),Object(i.jsx)("label",{children:"Author Name : "}),Object(i.jsx)("input",{value:b,onChange:function(e){return O(e.target.value)},type:"text",required:!0}),Object(i.jsx)("input",{value:f,onChange:function(e){return m(e.target.value)},type:"hidden"}),!y&&Object(i.jsx)("button",{type:"submit",children:"Post"}),y&&Object(i.jsx)("button",{disabled:!0,children:"Please Wait..."})]})]})},p=function(){var e=Object(u.g)().id,t=h("https://backend-react-json-server.herokuapp.com/posts/"+e),s=t.data,c=t.isError,r=t.isLoading,n=Object(u.f)();return Object(i.jsxs)("div",{className:"post-details",children:[!c&&r&&Object(i.jsx)("div",{children:"Loading Post..."}),c&&Object(i.jsxs)("div",{children:[c,"!!",Object(i.jsx)("br",{}),"Post not found"]}),s&&Object(i.jsxs)("article",{children:[Object(i.jsx)("h2",{children:s.title}),Object(i.jsxs)("p",{children:["posted by ",Object(i.jsx)(a.b,{className:"link-highlight",to:"/profile/".concat(s.author_id),children:s.author})]}),Object(i.jsx)("div",{children:s.body}),Object(i.jsx)("button",{onClick:function(){fetch("https://backend-react-json-server.herokuapp.com/posts/"+s.id,{method:"DELETE"}).then((function(){n.push("/react-blog-test-v2")})).catch((function(e){console.log(e)}))},children:"Delete"})]})]})},x=function(){return Object(i.jsxs)("div",{className:"not-found",children:[Object(i.jsx)("h2",{children:"Broken Link"}),Object(i.jsx)("p",{children:"The Page you requested not found"}),Object(i.jsx)(a.b,{to:"/react-blog-test-v2",children:"Home"})]})};var f=function(){var e=h("https://backend-react-json-server.herokuapp.com/profile/1"),t=e.data,s=e.isError,c=e.isLoading;return Object(i.jsxs)("div",{children:[s&&Object(i.jsx)("h2",{children:"Error Occured"}),c&&Object(i.jsx)("h2",{children:"Loading!!..."}),Object(i.jsx)("h2",{children:"Profile"}),Object(i.jsxs)("div",{className:"profile-container",children:[Object(i.jsxs)("p",{children:[" Name : ",!s&&t&&t.name]}),Object(i.jsx)("p",{children:" Status : "})]})]})},m=function(){var e=Object(u.g)().id,t=h("https://backend-react-json-server.herokuapp.com/profile/"+e),s=t.data,c=t.isError,r=t.isLoading;return Object(i.jsxs)("div",{class:"profile-container",children:[!c&&r&&Object(i.jsx)("div",{children:"Loading Profile..."}),c&&Object(i.jsxs)("div",{children:[c,"!!",Object(i.jsx)("br",{}),"Profile not found"]}),s&&Object(i.jsxs)("div",{class:"profile-data",children:[Object(i.jsxs)("h2",{children:["Name : ",s.name]}),Object(i.jsxs)("p",{children:["Email : ",s.email]})]})]})},v=s.p+"static/media/login.103b30a1.svg",g=(s(20),function(){return Object(i.jsxs)("div",{className:"base-container",children:[Object(i.jsx)("div",{className:"header",children:"Login"}),Object(i.jsxs)("div",{className:"content",children:[Object(i.jsx)("div",{className:"image",children:Object(i.jsx)("img",{src:v,alt:"just a decoration"})}),Object(i.jsxs)("div",{className:"form",children:[Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{htmlFor:"username",children:"Username"}),Object(i.jsx)("input",{type:"text",name:"username",placeholder:"username"})]}),Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{htmlFor:"password",children:"Password"}),Object(i.jsx)("input",{type:"password",name:"password",placeholder:"password"})]})]}),Object(i.jsx)("button",{type:"button",style:{color:"white",backgroundColor:"#f1356d",borderRadius:"8px",width:"7rem",height:"3rem",marginLeft:"6rem"},children:"Login"})]})]})}),y=function(){var e=Object(c.useState)(""),t=Object(d.a)(e,2),s=t[0],r=t[1],n=Object(c.useState)(""),o=Object(d.a)(n,2),a=o[0],l=o[1],j=Object(c.useState)(""),h=Object(d.a)(j,2),b=h[0],O=h[1],p=Object(c.useState)(!1),x=Object(d.a)(p,2),f=x[0],m=x[1],g=Object(u.f)();return Object(i.jsxs)("div",{className:"base-container",children:[Object(i.jsx)("div",{className:"header",children:Object(i.jsx)("h2",{children:"Register"})}),Object(i.jsxs)("div",{className:"content",children:[Object(i.jsx)("div",{className:"image",children:Object(i.jsx)("img",{src:v,alt:"just a decoration"})}),Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={name:s,email:a};m(!0);var c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};fetch("https://backend-react-json-server.herokuapp.com/profile/",c).then((function(e){if(201!==e.status)throw Error(e.statusText);console.log("New User Added"),m(!1),g.push("/react-blog-test-v2")})).catch((function(e){console.log(e.message),m(!1)}))},children:[Object(i.jsxs)("div",{className:"form",children:[Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{htmlFor:"username",children:"Username"}),Object(i.jsx)("input",{type:"text",name:"username",placeholder:"username",value:s,onChange:function(e){return r(e.target.value)},required:!0})]}),Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{htmlFor:"email",children:"Email"}),Object(i.jsx)("input",{type:"email",name:"email",placeholder:"email",value:a,onChange:function(e){return l(e.target.value)},required:!0})]}),Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{htmlFor:"password",children:"Password"}),Object(i.jsx)("input",{type:"password",name:"password",placeholder:"password",value:b,onChange:function(e){return O(e.target.value)},required:!0})]})]}),!f&&Object(i.jsx)("button",{type:"submit",style:{color:"white",backgroundColor:"#f1356d",borderRadius:"8px",width:"7rem",height:"3rem",borderBlockColor:"pinks"},children:"Register"})]})]})]})},k=s(11),N=s(12),w=s(14),E=s(13),S=function(e){Object(w.a)(s,e);var t=Object(E.a)(s);function s(e){var c;return Object(k.a)(this,s),(c=t.call(this,e)).abortController=new window.AbortController,c.state={posts:[],isLoading:!0,isError:null},c}return Object(N.a)(s,[{key:"fetchPosts",value:function(){var e=this;fetch("https://backend-react-json-server.herokuapp.com/posts",{signal:this.abortController.signal},{method:"GET",redirect:"follow"}).then((function(e){if(!e.ok)throw Error("Could not Fetch data");return e.json()})).then((function(t){e.setState({posts:t}),e.setState({isLoading:!1}),e.setState({isError:!1})})).catch((function(t){"AbortError"===t.name?console.log("Fetch Aborted"):(console.log(t.message),e.setState({isError:t.message}))}))}},{key:"componentDidMount",value:function(){this.fetchPosts()}},{key:"componentWillUnmount",value:function(){this.abortController.abort()}},{key:"render",value:function(){return Object(i.jsxs)("div",{className:"home",children:[Object(i.jsx)("h1",{children:"Home Page"}),!this.state.isError&&this.state.isLoading&&Object(i.jsx)("div",{children:"Loading...."}),this.state.isError&&Object(i.jsx)("div",{children:Object(i.jsx)("h2",{style:{color:"#ff003cf0"},children:this.state.isError})}),this.state.posts&&Object(i.jsx)(j,{posts:this.state.posts,title:"All Posts"}),this.state.posts&&Object(i.jsx)(j,{posts:this.state.posts.filter((function(e){return"bruce"===e.author})),title:"My Posts"})]})}}]),s}(c.Component),C=function(e){Object(w.a)(s,e);var t=Object(E.a)(s);function s(e){var c;return Object(k.a)(this,s),(c=t.call(this,e)).state={hasError:!1},c}return Object(N.a)(s,[{key:"componentDidCatch",value:function(e,t){console.log(e),console.log(t)}},{key:"render",value:function(){return this.state.hasError?Object(i.jsx)("h1",{children:"Something Went Wrong"}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),s}(c.Component);var P=function(){return Object(i.jsx)(a.a,{children:Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(l,{}),Object(i.jsx)("div",{className:"content",children:Object(i.jsx)(C,{children:Object(i.jsxs)(u.c,{children:[Object(i.jsx)(u.a,{exact:!0,path:"/react-blog-test-v2",children:Object(i.jsx)(b,{})}),Object(i.jsx)(u.a,{path:"/login",children:Object(i.jsx)(g,{})}),Object(i.jsx)(u.a,{path:"/register",children:Object(i.jsx)(y,{})}),Object(i.jsx)(u.a,{path:"/create",children:Object(i.jsx)(O,{})}),Object(i.jsx)(u.a,{path:"/profile/:id",children:Object(i.jsx)(m,{})}),Object(i.jsx)(u.a,{path:"/profile",children:Object(i.jsx)(f,{})}),Object(i.jsx)(u.a,{path:"/posts/:id",children:Object(i.jsx)(p,{})}),Object(i.jsx)(u.a,{path:"/new-home",children:Object(i.jsx)(S,{})}),Object(i.jsx)(u.a,{path:"*",children:Object(i.jsx)(x,{})})]})})})]})})},L=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,36)).then((function(t){var s=t.getCLS,c=t.getFID,r=t.getFCP,n=t.getLCP,o=t.getTTFB;s(e),c(e),r(e),n(e),o(e)}))};o.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(P,{})}),document.getElementById("root")),L()}},[[35,1,2]]]);
//# sourceMappingURL=main.b283ecc6.chunk.js.map